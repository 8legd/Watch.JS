var $watchjs$={isFunction:function(a){var b={};return a&&b.toString.call(a)=="[object Function]"},isInt:function(a){var b=parseInt(a);if(isNaN(b))return false;return a==b&&a.toString()==b.toString()},isArray:function(a){return Object.prototype.toString.call(a)==="[object Array]"},defineGetAndSet:function(a,b,c,d){try{Object.defineProperty(a,b,{get:c,set:d,enumerable:true,configurable:true})}catch(e){try{Object.prototype.__defineGetter__.call(a,b,c);Object.prototype.__defineSetter__.call(a,b,d)}catch(f){throw"watchJS error: browser not supported :/"}}},defineProp:function(a,b,c){try{Object.defineProperty(a,b,{enumerable:false,configurable:true,writable:false,value:c})}catch(d){a[b]=c}}};$watchjs$.defineProp(Object.prototype,"watch",function(){if(arguments.length==1)this.watchAll.apply(this,arguments);else if($watchjs$.isArray(arguments[0]))this.watchMany.apply(this,arguments);else this.watchOne.apply(this,arguments)});$watchjs$.defineProp(Object.prototype,"watchAll",function(a){var b=this;if(b instanceof String||!(b instanceof Object)&&!$watchjs$.isArray(b))return;var c=[];if($watchjs$.isArray(b)){for(var d=0;d<b.length;d++){c.push(d)}}else{for(var e in b){c.push(e)}}b.watchMany(c,a)});$watchjs$.defineProp(Object.prototype,"watchMany",function(a,b){var c=this;if($watchjs$.isArray(c)){for(var d in a){c.watchOne(a[d],b)}}else{for(var e in a){c.watchOne(a[e],b)}}});$watchjs$.defineProp(Object.prototype,"watchOne",function(a,b){var c=this;var d=c[a];if(c[a]===undefined||$watchjs$.isFunction(c[a]))return;if(c[a]!=null)c[a].watchAll(b);c.watchFunctions(a);if(!c.watchers){$watchjs$.defineProp(c,"watchers",{})}if(!c.watchers[a])c.watchers[a]=[];c.watchers[a].push(b);var e=function(){return d};var f=function(e){var f=d;d=e;if(c[a])c[a].watchAll(b);c.watchFunctions(a);if(JSON.stringify(f)!=JSON.stringify(e)&&arguments.callee.caller!=b){c.callWatchers(a)}};$watchjs$.defineGetAndSet(c,a,e,f)});$watchjs$.defineProp(Object.prototype,"callWatchers",function(a){var b=this;for(var c in b.watchers[a]){if($watchjs$.isInt(c)){b.watchers[a][c]()}}});$watchjs$.defineProp(Object.prototype,"watchFunctions",function(a){var b=this;if(!b[a]||b[a]instanceof String||!$watchjs$.isArray(b[a]))return;var c=b[a].pop;$watchjs$.defineProp(b[a],"pop",function(){var d=c.apply(this,arguments);b.watchOne(b[a]);b.callWatchers(a);return d});var d=b[a].push;$watchjs$.defineProp(b[a],"push",function(){var c=d.apply(this,arguments);b.watchOne(b[a]);b.callWatchers(a);return c});var e=b[a].reverse;$watchjs$.defineProp(b[a],"reverse",function(){var c=e.apply(this,arguments);b.watchOne(b[a]);b.callWatchers(a);return c});var f=b[a].shift;$watchjs$.defineProp(b[a],"shift",function(){var c=f.apply(this,arguments);b.watchOne(b[a]);b.callWatchers(a);return c});var g=b[a].sort;$watchjs$.defineProp(b[a],"sort",function(){var c=g.apply(this,arguments);b.watchOne(b[a]);b.callWatchers(a);return c});var h=b[a].slice;$watchjs$.defineProp(b[a],"slice",function(){var c=h.apply(this,arguments);b.watchOne(b[a]);return c});var i=b[a].unshift;$watchjs$.defineProp(b[a],"unshift",function(){var c=i.apply(this,arguments);b.watchOne(b[a]);b.callWatchers(a);return c})})